---
title: Linux学习笔记
date: 2023-12-23 15:12:44
toc: true
tags:
    - Linux
category: Computer
excerpt: "不会Linux的程序员不能叫程序员"
---

## 压缩和解压类

### gzip/gunzip 指令

gzip用于压缩文件，gunzip用于解压

**语法**
```
gzip 文件 (压缩文件，将文件压缩为*.gz文件)
gunzip 文件.gz (解压缩文件指令)
```
### zip/unzip 指令

zip用于压缩文件， unzip用于解压文件，在项目打包时很有用

**语法**
```
zip [选项] XXX.zip 将要压缩的内容(压缩文件和目录的命令)
unzip [选项] XXX.zip (解压缩文件)
```
**zip常用选项:**
-r 递归压缩,即压缩目录
**unzip**
-d <目录> :指定解压后的文件存放目录

### tar指令
tar指令是打包指令,最后打包的文件时.tar.gz的文件
**语法**
```
tar [选项] XXX.tar.gz 打包的内容
```
#### 选项说明
| 选项 | 功能               |
| :--- | :----------------- |
| -c   | 产生.tar打包文件   |
| -v   | 显示详细信息       |
| -f   | 指定压缩后的文件名 |
| -z   | 打包同时压缩       |
| -x   | 解包.tar文件       |

### Linux分区

#### 查看所有设备挂载情况

命令:`lsblk`或者`lsblk -f`

**我当时安装windows10和archlinux的案例**
&ensp;&ensp;我有一个1T的机械硬盘(西部数据蓝盘)和1T(PC005)的固态硬盘我的windows10是EFI启动,我在固态硬盘上分出了300G的空间首先给硬盘建立分区,我喜欢用cfdisk
`cfdisk /dev/nvme0n1`
    我分了296G准备挂载到根目录上分了4G准备用作swap分完盘后就是格式化磁盘了
**命令**
```
mkfs -t ext4 /dev/nvme0n7 #将我的固态硬盘第七个分区格式化为ext4文件系统
mount /dev/nvme0n7 /#将这个分区挂载到根目录
```
&emsp;&emsp;同时也可以卸载:umount /dev/nvme0n7(若是机械硬盘则是sdx)
知识点:将分区格式化之后会给分区分配一个唯一的UUID,用命令行挂载,重启之后会失效
想要实现永久挂载则要通过修改`/etc/fstab`来实现挂载,添加完成后,执行mount -a即可生效(记住要保留系统快照,否则如果操作失误会导致无法开机)
&emsp;&emsp;这个文件通常是在你安装完成系统后才会编辑和配置的,修改 /etc/fstab 是为了在系统安装完成后，在新系统启动时自动挂载正确的分区和设备。这样可以确保系统在启动时能够正确地找到并挂载需要的文件系统，使系统能够正常运行。
&emsp;&emsp;在一个正在运行的操作系统中，根目录（/）代表的是系统根文件系统的根目录。在启动过程中，通常会有一个临时的根文件系统，它存在于内存中，称为 RAM Disk（ramfs 或 tmpfs），这是一个临时的文件系统，用于在系统启动时提供基本的文件结构和工具。

&emsp;&emsp;在安装archlinux,还没有挂载任何设备的情况下，根目录（/）是 RAM Disk 中的根目录，它包含了启动所需的基本文件和工具，但并不包含硬盘上的实际文件系统。这个临时的根文件系统是在启动过程中创建的，并且在系统关机或重启时会被清空。

&emsp;&emsp;一旦你开始挂载实际的设备或分区到特定的挂载点（如 /mnt），这些设备上的文件系统就成为了根目录，取代了 RAM Disk 中的临时根文件系统。这个过程通常在系统引导过程的早期阶段由引导加载程序（bootloader）完成，它会找到正确的操作系统并将其加载到内存中。
一些新东西:[Btrfs](https://arch.icekylin.online/guide/advanced/btrfs.html),一个新型文件系统,下次可以试试
我发现我的windows系统的磁盘的文件系统为ntfs

#### 查询系统整体磁盘使用情况

```
df -h
```

#### 查询指定目录的磁盘占用情况
du -h
查询指定目录的磁盘占用情况,默认为当前目录
| 选项          | 功能                      |
| :------------ | :------------------------ |
| -s            | 指定目录占用大小汇总      |
| -h            | 带计量单位                |
| -a            | 含文件                    |
| --max-depth=1 | 子目录深度                |
| -c            | 列出明细的同时,增加汇总值 |